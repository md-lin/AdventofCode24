# return 2d matrix of reports as integers
def parse():
  filename = "reports.txt"
  reports = []
  file = open(filename, "r")
  for line in file:
    str_report = line.split()
    report = [int(numeric_string) for numeric_string in str_report]
    reports.append(report)

  return reports

# check if a report is safe and all descending
def isSafeDescending(report):
  for i in range(len(report)-1):
    # check descending
    if (report[i] <= report[i+1]):
      return False
    # check safe
    if (report[i] - report[i+1] > 3):
      return False
  # every pair of levels is safe
  return True

# check if a report is safe and all ascending
def isSafeAscending(report):
  for i in range(len(report)-1):
    # check ascending
    if (report[i] >= report[i+1]):
      return False
    # check safe
    if (report[i+1] - report[i] > 3):
      return False
  # every pair of levels is safe
  return True
  

#count number of safe reports
def main():
  reports = parse()
  
  numsafe = 0
  for report in reports:
    if isSafeDescending(report):
      numsafe += 1
    if isSafeAscending(report):
      numsafe += 1
  
  return numsafe

print(main())
